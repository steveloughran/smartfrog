<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.7">
<meta name="Forrest-skin-name" content="pelt">
<title>sfQuickRef</title>
<link type="text/css" href="skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="skin/print.css" rel="stylesheet">
<link type="text/css" href="skin/profile.css" rel="stylesheet">
<script src="skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<div class="breadtrail">
<script src="skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script>
</div>
<div class="header">
<div class="grouplogo">
<a href="http://www.SmartFrog.org/"><img class="logoImage" alt="SmartFrog" src="images/group.png" title="SmartFrog"></a>
</div>
<div class="projectlogoA1">
<a href="http://www.SmartFrog.org"><img class="logoImage" alt="" src="images/frog.gif"></a>
</div>
<ul id="tabs">
<li>
<a class="base-not-selected" href="index.html">Home</a>
</li>
<li>
<a class="base-not-selected" href="sfcore.html">SmartFrog Core</a>
</li>
<li>
<a class="base-not-selected" href="comp.html">Components</a>
</li>
<li>
<a class="base-not-selected" href="anttasks.html">Ant Tasks</a>
</li>
<li>
<a class="base-not-selected" href="extras.html">Extras</a>
</li>
<li>
<a class="base-not-selected" href="examples.html">Examples</a>
</li>
<li>
<a class="base-not-selected" href="jdocs_index.html">Java Docs</a>
</li>
<li>
<a class="base-not-selected" href="Copyright.html">Copyright</a>
</li>
<li>
<a class="base-not-selected" href="lpgl.html">License Terms</a>
</li>
</ul>
</div>
</div>
<div id="main">
<div id="publishedStrip">
<div id="level2tabs"></div>
<script type="text/javascript"><!--
document.write("<text>Last Published:</text> " + document.lastModified);
//  --></script>
</div>
<div class="breadtrail">
             
             &nbsp;
           </div>
<div id="content">
<h1>sfQuickRef</h1>
<div class="abstract"></div>
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#SmartFrog+Quick+Reference">SmartFrog Quick Reference</a>
<ul class="minitoc">
<li>
<a href="#Components">Components</a>
</li>
<li>
<a href="#Include+files">Include files</a>
<ul class="minitoc">
<li>
<a href="#References">References</a>
</li>
<li>
<a href="#Functions">Functions</a>
</li>
<li>
<a href="#Shell+commands%3A">Shell commands:</a>
</li>
</ul>
</li>
<li>
<a href="#Well-Known+Attributes">Well-Known Attributes</a>
</li>
<li>
<a href="#Useful+Components">Useful Components</a>
</li>
<li>
<a href="#Management+Console">Management Console</a>
</li>
<li>
<a href="#Default+configuration+files+for+shell+scripts">Default configuration files for shell scripts</a>
</li>
</ul>
</li>
</ul>
</div>
<a name="N1000C"></a><a name="SmartFrog+Quick+Reference"></a>
<h2 class="boxed">SmartFrog Quick Reference</h2>
<div class="section">
<p class="Code">
<span class="T1">Integer:</span> 345</p>
<p class="Code">
<span class="T1">Long:</span> 65325L or 65325l</p>
<p class="Code">
<span class="T1">Float:</span> 34.76F or 34.76f or 34.76E-10F or 34.76e+10f or 34.76E10f</p>
<p class="Code">
<span class="T1">Double:</span> 1534.45 or 1534.45D or 1534.45d or 1534.45E10 or 1534.45E-10D</p>
<p class="Code">
<span class="T1">String:</span> "this is a string"</p>
<p class="Code">
<span class="T1">Binary data</span>: #HEX#...#</p>
<p class="Code">
<span class="T1">Multi-line String:</span> ## This is a string</p>
<p class="Code">Over many lines #</p>
<p class="Code">
<span class="T1">Boolean:</span> true or false</p>
<p class="Code Last Line">
<span class="T1">SFNull</span>: NULL // alternatively, leave the value empty</p>
<p class="Text body">Operators:<span class="code inline"> ! + - / == != &gt;= &lt;= &lt; * ++ &lt;&gt; &amp;&amp; ||</span>
</p>
<p class="Code Last Line">IF (val1 &gt; val2) THEN (val1 &ndash; val2) ELSE (val2 &ndash; val1) FI;</p>
<p class="Text body">Simple Vectors:</p>
<p class="Code">userList [| "fred", "harry" |];</p>
<p class="Code">empty [| |];</p>
<p class="Code Last Line">listOfLists [| [| 1,2,3 |], [| 4,5,6 |] |];</p>
<p class="Text body">Full vectors can contain <span class="T2">references</span>: </p>
<p class="Code indented">v1 [1,2,3];</p>
<p class="Code indented">v2 [9,8,7];</p>
<p class="Code indented">v3 [v1, v2]; // same as [[1,2,3],[9,8,7]]</p>
<a name="N1006F"></a><a name="Components"></a>
<h3 class="boxed">Components</h3>
<div class="frame fixme">
<div class="label">Fixme (openoffice-common2forrest template)</div>
<div class="content">
          The previous heading is more than one level below the heading before it. To remove this fixme, correct the structuring of your document.
        </div>
</div>
<p class="Code">Component::= <span class="T1">extends</span> [<span class="T1">LAZY] </span><span class="T3">Type Body</span>
</p>
<p class="Code">Type::= [ <span class="T1">NULL</span> | BaseReference ]</p>
<p class="Code">Body ::= (<span class="T1"> ;</span> | <span class="T1">{</span> AttributeList <span class="T1">} </span>)</p>
<p class="Code"></p>
<p class="Code">/* example */</p>
<p class="Code indented">
<span class="T1">sfConfig</span> extends Prim {</p>
<p class="Code indented">portNum 4047;</p>
<p class="Code indented">sfProcessHost "ahost.smartfrog.org";</p>
<p class="Code indented">administrators ["patrick",ATTRIB ROOT:sysadmin];</p>
<p class="Code Last Line">}</p>
<p class="Text body">The <span class="T4">sfConfig</span><span class="T3"> attribute identifies the component in a description to deploy.</span>
</p>
<a name="N100BA"></a><a name="Include+files"></a>
<h3 class="boxed">Include files</h3>
<p class="Text body">Include files are resources on the classpath of the deploying JVM; they are expanded before deployment. </p>
<p class="Code indented">system extends {</p>
<p class="Code indented">#include "/absolute/path/foo.sf"</p>
<p class="Code indented">#codebase "<a class="external" href="file://./">file:///</a>foo.jar" #include "/absolute/path/foo.sf"</p>
<p class="Code Last Line">}</p>
<a name="N100D3"></a><a name="References"></a>
<h4>References</h4>
<p class="Code indented">Reference::= [<span class="T1">LAZY</span>] BaseReference</p>
<p class="Code indented">BaseReference::= ReferencePart ( <span class="T1">: </span>ReferencePart)*</p>
<p class="Code indented">ReferencePart::= <span class="T1">ROOT</span><span class="T3">// root of the descriptor '/'</span>
</p>
<p class="Code indented">| <span class="T1">PARENT</span><span class="T3">// parent '..'</span>
</p>
<p class="Code indented">| (<span class="T1">ATTRIB</span> WORD)//closet attribute 'WORD'</p>
<p class="Code indented">| (<span class="T1">HERE</span> WORD) //local attribute 'WORD' only</p>
<p class="Code indented">| <span class="T1">THIS</span><span class="T3">//local context '.' </span>
</p>
<p class="Code indented">| WORD//ATTRIB if first/only part, else HERE</p>
<p class="Code indented">| (<span class="T1">PROPERTY</span> WORD)//JVM string property (see LAZY)</p>
<p class="Code indented">| (<span class="T1">IPROPERTY</span> WORD)//JVM integer property (see LAZY)</p>
<p class="Code indented">| <span class="T1">PROCESS</span><span class="T3"> //current process</span>
</p>
<p class="Code Last Line">| (<span class="T1">HOST</span> (WORD | STRING))//host by reference/address</p>
<p class="Text body">
<span class="T3">As non-lazy attributes are evaluated at parse time, </span><span class="T4">PROPERTY</span><span class="T3"> and </span><span class="T4">PROCESS</span><span class="T3"> references will be evaluated in the JVM parsing the file, not the process hosting the components, </span><span class="T6">unless</span><span class="T7"> LAZY is used to declare late binding of information.</span>
</p>
<a name="N10147"></a><a name="Functions"></a>
<h4>Functions</h4>
<p class="Code Last Line">#include "org/smartfrog/functions.sf";</p>
<p class="Code">myString extends formatString {</p>
<p class="Code">format "the meaning of $2 is $1";</p>
<p class="Code">s1 42;</p>
<p class="Code">s2 "life";</p>
<p class="Code Last Line">}</p>
<p class="Text body">When a function is evaluated, its declaration is replaced by the result: <span class="code inline">myString</span> <span class="T2">becomes</span> the string. LAZY references can not be used in functions. </p>
<a name="N10169"></a><a name="Shell+commands%3A"></a>
<h4>Shell commands:</h4>
<p class="Text body">
<span class="T8">smartfrog</span><span class="T9"> </span><span class="T8">-a SFACT -f SFREF </span><span class="T9">-e -d -?</span>
</p>
<p class="P1">
<span class="T10">sfRun -a SFREF -e </span>(= smartfrog -a :DEPLOY:SFREF::: -e)</p>
<p class="Text body">
<span class="T11">sfStart </span><span class="T12">hostname</span><span class="T11"> </span><span class="T12">appname</span><span class="T11"> SFREF</span><span class="T13"> (= smartfrog -a appname:DEPLOY:SFREF::hostname: -e)</span>
</p>
<p class="P1">
<span class="T10">sfTerminate </span><span class="T14">hostname</span><span class="T10"> </span><span class="T14">appname</span><span class="T10"> </span>(= <span class="T2">smartfrog -a appname:TERMINATE:::hostname: -e)</span>
</p>
<p class="Text body">
<span class="T11">sfStopDaemon hostname</span><span class="T13"> (= smartfrog -a rootProcess:TERMINATE:::hostname: -e</span>)</p>
<p class="Text body">
<span class="T11">sfDetachAndTerminate </span><span class="T12">hostname</span><span class="T11"> </span><span class="T12">appname</span><span class="T15"> (</span><span class="T16">=smartfrog -a appname:DETaTERM:::hostname: -e</span><span class="T15">)</span>
</p>
<p class="instruction">sfParse [-v] [-q] [-r] [-R] {[-f] filename | SFREF}</p>
<p class="P3">S<span class="T13">martFrog Action Descriptor (SFACT): </span><span class="T17">NAME : ACTION : SFREF : SUBREF : HOST : PROCESS</span>
</p>
<p class="P4">
<span class="T17">SmartFrog Resource Reference (SFREF): URL to the file; </span>as a relative or absolute path name to a file; <span class="T17">as a path to a resource in a jar file on the classpath or code base.</span>
</p>
<a name="N101E0"></a><a name="Well-Known+Attributes"></a>
<h3 class="boxed">Well-Known Attributes</h3>
<p class="Text body">
<span class="T18">Deployment attributes</span>:</p>
<table class="ForrestTable" cellspacing="1" cellpadding="4">
<caption>Table7</caption>
<tr>
<td>sfConfig </td><td>the root of a SmartFrog description</td>
</tr>
</table>
<p class="Text body">- Component:</p>
<table class="ForrestTable" cellspacing="1" cellpadding="4">
<caption>Table6</caption>
<tr>
<td>sfClass</td><td>class that implements a component</td><td>String</td>
</tr>
<tr>
<td>sfCodeBase</td><td>Java codebase for a component</td><td>String</td>
</tr>
<tr>
<td>sfDeployerClass</td><td>The class name for deployer</td><td>String</td>
</tr>
<tr>
<td>sfExport</td><td>enable/disable remote method calls</td><td>boolean</td>
</tr>
<tr>
<td>sfExportPort</td><td>fixes the port used by the component </td><td>Integer</td>
</tr>
<tr>
<td>sfSchemaDescription</td><td>the definition of a schema</td><td>CmpDs</td>
</tr>
<tr>
<td>sfSyncTerminate</td><td>asynchronous or synchronous termination of compound</td><td>boolean</td>
</tr>
</table>
<p class="Text body">- Location:</p>
<table class="ForrestTable" cellspacing="1" cellpadding="4">
<caption>Table4</caption>
<tr>
<td>sfProcessComponentName</td><td>name a component in root process</td><td>String</td>
</tr>
<tr>
<td>sfProcessHost</td><td>host where to deploy component</td><td>String</td>
</tr>
<tr>
<td>sfProcessName</td><td>subprocess where to deploy component</td><td>String</td>
</tr>
</table>
<p class="Standard">- Liveness:</p>
<table class="ForrestTable" cellspacing="1" cellpadding="4">
<caption>Table5</caption>
<tr>
<td>sfLivenessDelay</td><td>how often to send liveness in seconds.</td><td>Integer</td>
</tr>
<tr>
<td>sfLivenessFactor</td><td>how many multiples of the liveness delay to wait till a liveness failure of the parent is declared</td><td>Integer</td>
</tr>
</table>
<p class="Standard">- SubProcesses:</p>
<table class="ForrestTable" cellspacing="1" cellpadding="4">
<caption>Table2</caption>
<tr>
<td>sfProcessAllow</td><td>enable/disable subprocesses</td><td>boolean</td>
</tr>
<tr>
<td>sfProcessTimeout</td><td>Garbage collection time out for subprocesses</td><td>Integer</td>
</tr>
<tr>
<td>sfRootLocatorPort</td><td>Registry port used by the rootProcess daemon. Default: 3800</td><td>Integer</td>
</tr>
<tr>
<td>sfSubprocessGCTimeout</td><td>garbage collection time out for subprocesses</td><td>Integer</td>
</tr>
<tr>
<td>sfProcessConfig</td><td>to pass special attributes to next subProcess.</td><td>CmpDs</td>
</tr>
<tr>
<td>sfProcessEnvVars</td><td>to pass as env. properties to next subProcess.</td><td>CmpDs</td>
</tr>
</table>
<p class="Text body"></p>
<p class="Text body">
<span class="T18">Runtime attributes:</span>
</p>
<table class="ForrestTable" cellspacing="1" cellpadding="4">
<caption>Table3</caption>
<tr>
<td>sfHost</td><td>The host address where a component runs</td><td>InetAddress</td>
</tr>
<tr>
<td>sfProcess</td><td>the process/subprocess name where a component runs.</td><td>String</td>
</tr>
</table>
<a name="N102A1"></a><a name="Useful+Components"></a>
<h3 class="boxed">Useful Components</h3>
<table class="ForrestTable" cellspacing="1" cellpadding="4">
<caption>Table1</caption>
<tr>
<td>Prim</td><td>Primitive Component</td>
</tr>
<tr>
<td>Compound</td><td>Compound component. Shared lifecycle</td>
</tr>
<tr>
<td>ExecuteProgram, RunShellScripts, Java, Scripting</td><td>Run external programs, scripts, Java applications. </td>
</tr>
<tr>
<td>Downloader</td><td>Download a file from a URL</td>
</tr>
<tr>
<td>File, Mkdir, TextFile, TempFile</td><td>File manipulation components.</td>
</tr>
<tr>
<td>LivenessPage</td><td>Check that an HTTP URL is valid, as a liveness check. </td>
</tr>
<tr>
<td>Assert</td><td>Simple assertions that are checked at deployment and during liveness.</td>
</tr>
<tr>
<td>sfPersist</td><td>Persist a component to a description file</td>
</tr>
<tr>
<td>Trace</td><td>Tracing for life cycle hooks.org/smartfrog/services/trace/components.sf</td>
</tr>
</table>
<a name="N102D6"></a><a name="Management+Console"></a>
<h3 class="boxed">Management Console</h3>
<p class="P3">
<span class="code-inline">sfManagementConsole</span> <span class="code-inline">-h &lt;HOSTNAME&gt; -p &lt;PORT_NUMBER</span> &gt; -r -?</p>
<a name="N102E5"></a><a name="Default+configuration+files+for+shell+scripts"></a>
<h3 class="boxed">Default configuration files for shell scripts</h3>
<ul>
<li>
<p class="P8">Ini file: <span class="T11">dist/bin/default.ini</span> or redefined using <span class="T10">SFDEFAULTINI</span>
</p>
</li>
</ul>
<p class="P9">Default deployment description: <span class="T19">dist/bin/default.sf</span>. Redefined using <span class="T10">SFDEFAULTSF</span>
</p>
<p class="P10">
<span class="T20">Environment variables used:</span> 
</p>
<ul>
<li>
<p class="P10">
<span class="T20">Smartfrog distribution directory</span>: SFHOME</p>
</li>
<li>
<p class="P10">
<span class="T20">User libs:</span> SFUSERHOME,SFUSERHOME1, ...,SFUSERHOME4</p>
</li>
<li>
<p class="P10">Remote class loading: SFCODEBASE, <span class="T21">SFDYNAMICCLASSLOADING_ON</span>
</p>
</li>
<li>
<p class="P10">Security: SFSECURITY,SFPRIVATE,SFHOSTNAME<span class="T21">, SFSECURITY_ON </span>
</p>
</li>
</ul>
</div>
</div>
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("<text>Last Published:</text> " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2005 Hewlett Packard Company</div>
<div class="host">
<a href="http://sourceforge.net/projects/smartfrog"><img class="logoImage" alt="" src="images/sourceforge.gif"></a>
</div>
</div>
</body>
</html>
