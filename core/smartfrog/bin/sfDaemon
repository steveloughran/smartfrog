#!/bin/sh
if ! test "$SFHOME"; 
then 
    export SFHOME=$PWD;
    echo SFHOME undefined, using $SFHOME as base directory;
fi

. "$SFHOME/bin/setSFProperties"

#if test "$SFDEFAULTSF";
#then
#   export SFCMDPARAMETERS="$SFCMDPARAMETERS $SFDEFAULTSF"
#fi

#java -Dorg.smartfrog.sfcore.processcompound.sfProcessName=rootProcess "$SFCMDPARAMETERS" org.smartfrog.SFSystem "$@"


if test "$SFCODEBASE" && ! test "$SFSECURITY"; then
	java "$SFDEFAULTINI" "$SFDEFAULTSF" "$SFCODEBASE" -Dorg.smartfrog.sfcore.processcompound.sfProcessName=rootProcess org.smartfrog.SFSystem $*
elif test "$SFSECURITY" && ! test "$SFCODEBASE"; then
	java "$SFDEFAULTINI" "$SFDEFAULTSF" "$SFSECURITY" -Dorg.smartfrog.sfcore.processcompound.sfProcessName=rootProcess org.smartfrog.SFSystem $*
elif test "$SFCODEBASE" && test "$SFSECURITY"; then
	java "$SFDEFAULTINI" "$SFDEFAULTSF" "$SFCODEBASE" "$SFSECURITY" -Dorg.smartfrog.sfcore.processcompound.sfProcessName=rootProcess org.smartfrog.SFSystem $*
else
	java "$SFDEFAULTINI" "$SFDEFAULTSF" -Dorg.smartfrog.sfcore.processcompound.sfProcessName=rootProcess org.smartfrog.SFSystem $*
fi
