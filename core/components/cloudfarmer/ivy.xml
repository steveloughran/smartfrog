<?xml version="1.0" ?>
<?xml-stylesheet type="text/xsl" href="http://ivyrep.jayasoft.org/ivy-doc.xsl"?>
<ivy-module version="1.0">
  <info organisation="org.smartfrog" module="sf-cloudfarmer">
    <license name="LGPL"/>
    <ivyauthor name="Hewlett-Packard" url="http://www.smartfrog.org"/>
    <description>
      Cloud Farmer: managing machines in a cloud
    </description>
  </info>
  <!-- FIXME: Ivy 1.4.1 buildlist bug
  <configurations defaultconfmapping="default">
    <include file="../../antbuild/ivy/configurations.xml"/>
  </configurations>
  -->
  <configurations defaultconfmapping="default">
    <conf name="default" extends="master,runtime"/>
    <conf name="documentation"
        description="all documentation artifacts"/>
    <conf name="build" visibility="private"
        description="artifacts needed to build the application"/>
    <conf name="compile" visibility="private"
        extends="redist,webapp,ec2"
        description="artifacts needed to compile the application"/>
    <conf name="daemon" visibility="private" extends="default,compile"
        description="the classpath needed to run smartfrog daemons"/>
    <conf name="test" extends="daemon"
        description="the classpath needed to run tests"/>
    <conf name="ec2" description="contains EC2 support"/>
    <conf name="webapp" description="the web gui"/>
    <conf name="master" description="contains the artifact but no dependencies"/>
    <conf name="redist" description="redistributals excluding smartfrog artifacts"/>
    <conf name="runtime" description="runtime but not the artifact"
        extends="redist,webapp"/>

  </configurations>

  <publications>
    <!--get the artifact from our module name-->
    <artifact conf="master"/>
    <artifact name="sf-cloudfarmer-javadocs" conf="documentation" ext="zip"/>
    <artifact name="sf-cloudfarmer-documentation" conf="documentation" ext="zip"/>

  </publications>
  <dependencies>
    <dependency org="org.smartfrog"
        name="smartfrog"
        changing="true"
        rev="latest.integration"
        conf="compile,runtime,daemon->services"/>

    <!--we pull in www stuff -->
    <dependency org="org.smartfrog"
        name="sf-www"
        changing="true"
        rev="latest.integration"
        conf="compile,runtime,daemon,test->default;redist->httpclient"/>

    <!--XML content-->
    <!--    <dependency org="org.smartfrog"
    name="sf-xml"
    changing="true"
    rev="latest.integration"
    conf="compile,runtime,daemon->default"/>-->

    <!--httpclient needs commons logging; logging services pulls it in-->
    <dependency org="org.smartfrog"
        name="sf-loggingservices"
        changing="true"
        rev="latest.integration"
        conf="daemon,compile->default;runtime->runtime;redist->redist"/>

    <!-- Struts -->

    <!--struts 1.3.x-->
    <dependency org="org.apache.struts"
        name="struts-core"
        rev="${struts.version}"
        conf="webapp->default">
      <exclude org="antlr"/>
      <exclude org="oro"/>
    </dependency>
    
    <dependency org="org.apache.struts"
        name="struts-taglib"
        rev="${struts.version}"
        conf="webapp->default"/>
    <dependency org="org.apache.struts"
        name="struts-tiles"
        rev="${struts.version}"
        conf="webapp->default"/>


    <!--jetty for the webapp-->
    <dependency org="org.smartfrog"
        name="sf-jetty"
        changing="true"
        rev="latest.integration"
        conf="webapp->default,jsp"/>

    <dependency org="org.smartfrog"
        name="sf-testharness"
        changing="true"
        rev="latest.integration"
        conf="test->default"/>


    <dependency org="org.smartfrog"
        name="sf-tasks"
        rev="latest.integration"
        changing="true"
        conf="build->default"/>

    <dependency org="org.smartfrog"
        name="sf-xunit"
        changing="true"
        rev="latest.integration"
        conf="test->default"/>

    <!--EC2 support-->
    <dependency org="org.smartfrog"
        name="sf-ec2"
        changing="true"
        rev="latest.integration"
        conf="ec2->default"/>

    <dependency org="org.smartfrog"
        name="sf-hadoop-cluster"
        changing="true"
        rev="latest.integration"
        conf="daemon->default,server"/>
    
  </dependencies>
</ivy-module>