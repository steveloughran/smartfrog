/** (C) Copyright 2006 Hewlett-Packard Development Company, LP

This library is free software; you can redistribute it and/or
modify it under the terms of the GNU Lesser General Public
License as published by the Free Software Foundation; either
version 2.1 of the License, or (at your option) any later version.

This library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public
License along with this library; if not, write to the Free Software
Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA

For more information: www.smartfrog.org

*/

#include "/org/smartfrog/services/junit/components.sf"
#include "/org/smartfrog/services/filesystem/components.sf"

/*
 This is a package of tests that run against a local or remote server
 that is served up by the endpoint specified.
 */

  AlpineTestSuite extends JUnitTestSuite {
        name "alpine";
        enabled true;
        if enabled;
        //full path to the echo endpoint
        endpoint TBD;
        sysproperties [
          ["endpoint",LAZY endpoint]
        ];
  }


  PortalTestSuite extends AlpineTestSuite {
        name "portal";
        package "org.smartfrog.services.deployapi.test.system.alpine.deployapi.api.portal";
        classes [
          "Api_01_portal_wsdm_properties_Test",
          "Api_02_portal_getproperty_unknown_Test",
          "Api_03_portal_getproperty_unknown_prefix_Test",
          "Api_04_portal_getPortalState_Test"
          ];
    }

  SingleTestSuite extends PortalTestSuite {
        classes [
          "Api_01_portal_wsdm_properties_Test"
          ];
  }

  CreationTestSuite extends AlpineTestSuite {
        name "creation";
        package "org.smartfrog.services.deployapi.test.system.alpine.deployapi.api.creation";
        classes [
          "Api_05_system_create_destroy_Test",
          "Api_06_system_properties_Test",
          "Api_07_system_destroy_properties_Test",
          "Api_08_system_destroy_operations_Test",
          "Api_09_system_active_systems_Test",
          "Api_10_system_on_invalid_hostname_Test",
          "Api_11_system_on_valid_hostname_Test",
          "Api_13_system_multiple_systems_Test",
          "Api_14_system_lookup_Test",
          "Api_14a_system_destroy_lookup_Test"
          ];
    }


  DeployapiTestRunner extends TestRunner {

    endpoint TBD;

    basedir ".";

    subdir "/";

    enabled true;

    destDir extends Mkdir {
      dir subdir;
      parentDir LAZY basedir;
    }


    listener extends ConsoleListener;

    xmlListener extends XmlListener {
       outputDirectory LAZY destDir:absolutePath;
    }

    portal extends PortalTestSuite {
      endpoint LAZY PARENT:endpoint;
      enabled PARENT:enabled;
    }

    creation extends CreationTestSuite {
      endpoint LAZY PARENT:endpoint;
      enabled PARENT:enabled;
    }

 }
