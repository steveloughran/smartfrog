

#include "/org/smartfrog/services/hadoop/components.sf"
#include "/org/smartfrog/services/assertions/components.sf"



ExpectSuccessfulOperations extends ExpectDeploy {
  action extends MicroDFSCluster {

  }
  tests extends Sequence {
  }
}


testDfsLive extends ExpectSuccessfulOperations {

  tests extends Sequence {
    cluster LAZY action;


    dfsLive extends DfsPathExists {
      cluster PARENT:cluster;
      path "/"
    }

  }
}

testDirectoryCreateAndDelete extends ExpectSuccessfulOperations {

  tests extends Sequence {
    cluster LAZY action;

    dfsDirPath "testDirectoryCreateAndDelete";

    dfsLive extends DfsPathExists {
      cluster PARENT:cluster;
      path "/"
    }


    mkdir extends DfsMkdir {
      cluster PARENT:cluster;
      path PARENT:dfsDirPath;
    }

    dirCreated extends DfsPathExists {
      cluster PARENT:cluster;
      path PARENT:dfsDirPath;
    }

    rmdir extends DfsRmdir {
       cluster PARENT:cluster;
       path PARENT:dfsDirPath;
     }

  }
}