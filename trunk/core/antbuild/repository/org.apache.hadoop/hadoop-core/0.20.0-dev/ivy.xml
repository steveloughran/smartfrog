<?xml version="1.0" encoding="UTF-8"?>
<ivy-module version="1.0">
  <info organisation="org.apache.hadoop" module="hadoop-core" revision="0.20.0-dev" status="integration" publication="20081103132355">
    <license name="Apache 2.0"/>
    <ivyauthor name="Apache Hadoop Team" url="http://hadoop.apache.org"/>
    <description>
        Hadoop Core
    </description>
  </info>
  <configurations defaultconfmapping="default">
    <!--these match the Maven configurations-->
    <conf name="default" extends="master,runtime"/>
    <conf name="master" description="contains the artifact but no dependencies"/>
    <conf name="runtime" description="runtime but not the artifact" extends="client,server,s3-server,kfs"/>

    <conf name="mandatory" description="contains the critical  dependencies" extends="commons-logging,log4j"/>

    <!--
    These public configurations contain the core dependencies for running hadoop client or server.
    The server is effectively a superset of the client.
    -->
    <conf name="client" description="client-side dependencies" extends="mandatory,httpclient"/>
    <conf name="server" description="server-side dependencies" extends="client,jetty"/>
    <conf name="s3-client" description="dependencies for working with S3/EC2 infrastructure" extends="client"/>
    <conf name="s3-server" description="dependencies for running on S3/EC2 infrastructure" extends="s3-client,server"/>
    <conf name="kfs" description="dependencies for KFS file system support"/>
    <conf name="ftp" description="dependencies for working with FTP file systems" extends="mandatory"/>

    <!--Private configurations. -->

    <conf name="build" visibility="private" description="artifacts needed to build the application"/>
    <conf name="compile" visibility="private" extends="runtime" description="artifacts needed to compile the application"/>

    <!--Testing pulls in everything-->
    <conf name="test" extends="compile,default,s3-server,kfs" visibility="private" description="the classpath needed to run tests"/>

    <conf name="jetty" visibility="private" extends="commons-logging" description="Jetty provides the in-VM HTTP daemon"/>
    <conf name="commons-logging" visibility="private"/>
    <conf name="httpclient" visibility="private" extends="commons-logging"/>
    <conf name="log4j" visibility="private"/>
  </configurations>

  <publications>
    <!--get the artifact from our module name-->
    <artifact conf="master"/>
  </publications>
  <dependencies>

    <!--used client side-->
    <dependency org="commons-cli" name="commons-cli" rev="2.0-SNAPSHOT" conf="client->default"/>


    <dependency org="xmlenc" name="xmlenc" rev="0.52" conf="server->default"/>

    <!--Configuration: httpclient-->

    <!--
    commons-httpclient asks for too many files.
    All it needs is commons-codec and commons-logging JARs
    -->
    <dependency org="commons-httpclient" name="commons-httpclient" rev="3.0.1" conf="httpclient->master">
    </dependency>

    <dependency org="commons-codec" name="commons-codec" rev="1.3" conf="httpclient->default"/>


    <!--to work with ftp:// fileystems, commons-net is needed -->
    <dependency org="commons-net" name="commons-net" rev="1.4.1" conf="ftp->default"/>


    <!--Configuration: Jetty -->

    <dependency org="javax.servlet" name="servlet-api" rev="2.4" conf="jetty->master"/>
    <dependency org="jetty" name="org.mortbay.jetty" rev="5.1.4" conf="jetty->master"/>
    <dependency org="tomcat" name="jasper-runtime" rev="5.5.12" conf="jetty->master"/>
    <dependency org="tomcat" name="jasper-compiler" rev="5.5.12" conf="jetty->master"/>
    <dependency org="tomcat" name="jsp-api" rev="5.5.12" conf="jetty->master"/>
    <dependency org="commons-el" name="commons-el" rev="1.0" conf="jetty->master"/>


    <!--Configuration: commons-logging -->

    <!--it is essential that only the master JAR of commons logging
    is pulled in, as its dependencies are usually a mess, including things
    like out of date servlet APIs, bits of Avalon, etc.
    -->
    <dependency org="commons-logging" name="commons-logging" rev="1.0.4" conf="commons-logging->master"/>



    <!--log4J is not optional until commons-logging.properties is stripped out of the JAR -->
    <dependency org="log4j" name="log4j" rev="1.2.15" conf="log4j->master"/>

    <!--Configuration: s3-client -->
    <!--there are two jets3t projects in the repository; this one goes up to 0.6 and
    is assumed to be the live one-->
    <dependency org="net.java.dev.jets3t" name="jets3t" rev="0.6.0" conf="s3-client->master"/>
    <dependency org="net.java.dev.jets3t" name="jets3t" rev="0.6.0" conf="s3-client->master"/>

    <!--Configuration: kfs -->

    <!-- This is not in the repository
  <dependency org="org.kosmix"
    name="kfs"
    rev="${kfs.version}"
    conf="kfs->default"/>-->

    <!--Configuration: test -->

    <!--artifacts needed for testing -->
    <dependency org="junit" name="junit" rev="3.8.1" conf="test->default"/>
  </dependencies>
  
</ivy-module>
