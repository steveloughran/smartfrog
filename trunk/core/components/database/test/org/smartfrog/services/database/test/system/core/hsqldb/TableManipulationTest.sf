
#include "/org/smartfrog/services/database/test/system/core/hsqldb/components.sf";


TableManipulationTest extends TestCompound {

    action extends TestDB { 
    }

    tests extends Sequence {

        delay extends Delay {
          time 5000;
        }

        dropUser1 extends DropUser {
          database LAZY ATTRIB action;
          username testUser;
          failOnSqlError false;
        }

        dropTable1 extends dropTable {
          failOnSqlError false;
        }

        newuser extends CreateUser {
          database LAZY PARENT:PARENT:action;
          username testUser;
          password testPass;
        }


        events extends CreateEventsTable {
          database LAZY ATTRIB action;
        }

        select extends Transaction {
          database LAZY ATTRIB action;
          sqlCommands [
            "SELECT * from events"
            ];
        }

        dropTable extends DropTable {
            database LAZY ATTRIB action;
            table "events";
        }

        dropUser2 extends dropUser1 {
          failOnSqlError true;
        }

    }
  }

sfConfig extends TableManipulationTest {



}