<html>
<head>
  <title>SmartFrog 3.17.010</title>
</head>
<body>
<h1>SmartFrog 3.17.010</h1>

<p>
  This is a new release of SmartFrog, the Java-based, LPGL-licensed distributed
  deployment framework developed by HP Laboratories. SmartFrog enables
  applications to be deployed across multiple machines, configuring different
  aspects of the system so that they are all consistently configured, and managing
  the life-cycle of the application as a whole. The project's home page is
  <a href="http://smartfrog.org/">http://smartfrog.org/</a>
</p>

<p>
  The release artifacts are available at
  <a
          href="http://sourceforge.net/project/showfiles.php?group_id=87384&amp;package_id=176308">
    http://sourceforge.net/project/showfiles.php?group_id=87384&amp;package_id=176308</a>
</p>

<p>
  This release is 3.17.010; built from revision 7598
  of the SVN repository.
</p><p>
  It was compiled with the Java version set to Java 6
  -it will not work on Java1.5 JVMs.
</p><p>
  This release includes the following items:
</p>
<ul>

  <li> Core smartfrog daemon, including services to manage files, start and stop
    Java and native programs.
  </li>
  <li> Example components and applications.
  </li>
  <li> Ant support: ant tasks to deploy and terminate applications from a build.
  </li>
  <li> Ant components: the ability to execute ant tasks in a deployment.
  </li>
  <li> Anubis: a partition aware tuple-space that can be used to implement fault
    tolerant systems.
  </li>
  <li> Database: components to issue database commands, and deploy HSLDB and MySQL
   databases.
  </li>
  <li> Hadoop: a version of Apache Hadoop with SmartFrog management, and
  support components to interact with Hadoop: filesystem operations and 
  Job submission. This is still experimental and must be considered unstable.
  </li>
  <li> JMX: the ability to configure and manage JMX components, and to manage
    SmartFrog components over JMX.
  </li>
  <li> Logging: integration with Apache commons-logging and Log4J, and the 
  SLF4J framework.
  </li>
  <li> Networking: email, FTP, SSH, DNS support.
  </li>
  <li> Quartz: scheduled operations using Quartz libraries.
  </li>
  <li> RpmTools: components for working with or deploying with RPMs</li>
  <li> Scripting: support for BSF-hosted scripting languages
  </li>
  <li> Testing: Distributed JUnit and component testing with SFUnit.
  </li>
   <li>
    Velocity: generation/transformation of text files during deployment
  </li>
  <li> WWW: deployment of WAR and EAR files to application servers. deploy-by-copy
    is provided for all application servers that support, and a tomcat-specific
    component can communicate with Apache Tomcat.</li>
  <li>Jetty: The Jetty component can
    configure and deploy individual servlets, eliminating much of the need for WAR
    files themselves.
  </li>
  <li> XML: XML support with XOM.
  </li>
  <li> XMPP: Presence and messaging over Jabber.
  </li>
</ul>

<h3>Packaging</h3>

<p>
  This release is available as:
</p>
<ol>
  <li>
    RPM files inside a .tar.gz file.
  </li>
  <li>
    A JAR installer.
  </li>
  <li>
    A .tar.gz file containing everything needed to create a private set of RPM files
    containing JAR files signed by a private Certification Authority.
  </li>
  <li>
    The original smartfrog distribution as .zip and .tar.gz (deprecated)
  </li>
</ol>

<p>
  The RPM installation is for RPM-based Linux systems. It comprises the following RPMs:
</p>

<table>
  <tr>
    <td><code>smartfrog</code></td>
    <td>The core SmartFrog distribution.</td>
  </tr>
  <tr>
    <td><code>smartfrog-daemon</code></td>
    <td>The shell scripts to add the smartfrog distribution to the
      path, and to run the daemon on start-up.
    </td>
  </tr>
  <tr>
    <td><code>smartfrog-javadoc</code></td>
    <td>javadocs for the project</td>
  </tr>
  <tr>
    <td><code>smartfrog-ant</code></td>
    <td>Ant task and build file execution</td>
  </tr>
  <tr>
    <td><code>smartfrog-anubis</code></td>
    <td>Distributed partition-aware tuple space</td>
  </tr>
  <tr>
    <td><code>smartfrog-csvfiles</code></td>
    <td>CSV file support</td>
  </tr>
  <tr>
    <td><code>smartfrog-database</code></td>
    <td>Database access</td>
  </tr>
  <tr>
    <td><code>smartfrog-jetty</code></td>
    <td>Jetty support</td>
  </tr>
  <tr>
    <td><code>smartfrog-jmx</code></td>
    <td>JMX integration though MX4J</td>
  </tr>
  <tr>
    <td><code>smartfrog-junit</code></td>
    <td>Junit 3.8.2 test execution</td>
  </tr>
  <tr>
    <td><code>smartfrog-hadoop</code></td>
    <td>Hadoop support</td>
  </tr>
  <tr>
    <td><code>smartfrog-logging</code></td>
    <td>Logging through Log4J and commons-logging</td>
  </tr>
  <tr>
    <td><code>smartfrog-networking</code></td>
    <td>SSH, SCP, FTP and email</td>
  </tr>
  <tr>
    <td><code>smartfrog-quartz</code></td>
    <td>Scheduled operations</td>
  </tr>
  <tr>
    <td><code>smartfrog-rpmtools</code></td>
    <td>RPM support tools</td>
  </tr>
  <tr>
    <td><code>smartfrog-scripting</code></td>
    <td>Scripted components</td>
  </tr>
  <tr>
    <td><code>smartfrog-velocity</code></td>
    <td>Velocity template processing</td>
  </tr>
  <tr>
    <td><code>smartfrog-www</code></td>
    <td>Web support: Deployment and liveness pages</td>
  </tr>
  <tr>
    <td><code>smartfrog-xml</code></td>
    <td>XML Support</td>
  </tr>
  <tr>
    <td><code>smartfrog-xmpp</code></td>
    <td>XMPP/Jabber communications</td>
  </tr>
  <tr>
    <td><code>smartfrog-xunit</code></td>
    <td>Distributed testing and reporting</td>
  </tr>
</table>
<p>
  All the JAR files are also published to a repository that is compatible with
  Apache Maven and Ivy. Add
  <a
          href="http://smartfrog.sourceforge.net/repository">http://smartfrog.sourceforge.net/repository</a>
  to your repository list to pull SmartFrog artifacts into your Ivy- or Maven- based build.
</p>

<p>
  There are also SmartFrog components to retrieve artifacts from such a repository
  (the Library components under /org/smartfrog/services/os/java/library.sf ),
  which can be used for dynamic download of SmartFrog and other artifacts.
</p>

<h3>Security warning</h3>

<p>
  Unless SmartFrog is configured with security, a running daemon
  will listen on its configured port for incoming deployment requests, and deploy
  the applications with the rights of the user running the daemon. When the
  smartfrog-daemon RPM is installed, that means that a process running as root
  will be listening on an open port for incoming deployment requests.
  Do not deploy SmartFrog this way on any untrusted
  network, not without turning security on.
</p>
<p>
  There is a special distribution .tar.gz file that can be used to generate
  a private set of secure RPM files.
</p>

<h3>Building SmartFrog</h3>

<p>
  SmartFrog requires Java 1.6+ and Ant 1.7+ to build.
</p>

<p>

  The distribution does not include a source tree adequate to build the entire
  system. Please follow the instructions at
  <a href="http://sourceforge.net/svn/?group_id=87384">http://sourceforge.net/svn/?group_id=87384
  </a>
  and check out smartfrog/trunk/core from our repository.
</p>

<p>

  This release was built with revision 7598 of the repository, which
  is available under the SVN branch
  <a href="https://smartfrog.svn.sourceforge.net/svnroot/smartfrog/tags/release3.17.010">https://smartfrog.svn.sourceforge.net/svnroot/smartfrog/tags/release3.17.010</a>
</p>

<p>
  We strongly encourage anyone interested in building or extending smartfrog to
  get involved in the smartfrog developer mailing list, which can be found from
  the sourceforge project page
  <a href="http://sourceforge.net/projects/smartfrog/">
    http://sourceforge.net/projects/smartfrog/</a>
</p>


<h3>Reporting Bugs</h3>

<p>
  Please file all bug reports at <a
        href="http://jira.smartfrog.org/">http://jira.smartfrog.org/</a>
</p>

<p>
  The SmartFrog Team
</p>


<h3>Changes since last release</h3>



<h4>        Bug
</h4>
<ul>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-495'>SFOS-495</a>] -         for dynamic classloading, we need a way to set the security policy in the ant tasks, and a default one if none is provided
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-994'>SFOS-994</a>] -         Hadoop tests failing with namenode locked. Assumption: we aren't terminating namenodes properly
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1013'>SFOS-1013</a>] -         Test JobTracker isn't getting its file system URL right
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1031'>SFOS-1031</a>] -         TaskTracker not shutting down
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1043'>SFOS-1043</a>] -         CI tools are picking up the wrong version of the main distribution .zip file
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1051'>SFOS-1051</a>] -         Ant &lt;start&gt; tests failing on Hudson
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1053'>SFOS-1053</a>] -         the deploy target in common.xml should use the tests.run.classpath for its classpath
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1056'>SFOS-1056</a>] -         Assert component doesnt report resolution failures that well
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1057'>SFOS-1057</a>] -         Assert component reference resolution logic is wrong
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1060'>SFOS-1060</a>] -         ManagedConfiguration effectively discards all values it is set() with
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1075'>SFOS-1075</a>] -         Management console won't exit
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1076'>SFOS-1076</a>] -         restlet JARs are in smartfrog lib under SVN
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1077'>SFOS-1077</a>] -         Now that exits are being trapped, wherever in the code we call it intentionally, that operation now fails
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1086'>SFOS-1086</a>] -         Possible deadlock in DelayedTerminator
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1098'>SFOS-1098</a>] -         Add better classload failure details in SFClassLoader.forName()
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1101'>SFOS-1101</a>] -         wrong termination semantics in the HadoopServices
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1106'>SFOS-1106</a>] -         Hadoop JspHelper class does not load on Hadoop-under-smartfrog
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1107'>SFOS-1107</a>] -         Intermittent Test  Failure in HadoopConfigurationTest. Race condition?
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1112'>SFOS-1112</a>] -         hadoop components/extras tests should be disabled when running on java5; even if the components build, the tests will fail.
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1123'>SFOS-1123</a>] -         move filesystem and job tests out of hadoop/test into src/examples so the same tests can be run on live clusters
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1124'>SFOS-1124</a>] -         Add component to do directory copy between any two supported filesystems
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1137'>SFOS-1137</a>] -         Hadoop can exit the JVM with a fatal error in the namenode
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1145'>SFOS-1145</a>] -         Unowned RPMs found in $SFHOME/lib after upgrades -from older packages
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1150'>SFOS-1150</a>] -         Have AbstractTargetedCondition attempt to resolve the target on demand
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1154'>SFOS-1154</a>] -         security exception in management console
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1164'>SFOS-1164</a>] -         Ant daemon tasks do not use the same security manager as the shell scripts
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1171'>SFOS-1171</a>] -         RMI security problems on Java6 with Hadoop
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1178'>SFOS-1178</a>] -         Ivy/Maven repository on sourceforge.net is not indexed any more
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1181'>SFOS-1181</a>] -         ant print-proxy-settings only works if the proxy settings are correct
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1188'>SFOS-1188</a>] -         2 javadoc warnings in core/smartfrog
</li>
</ul>

<h4>        Improvement
</h4>
<ul>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-14'>SFOS-14</a>] -         Improve scripting component
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-848'>SFOS-848</a>] -         make LoadClass a Condition, so it can be used to enable/disable tests
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-855'>SFOS-855</a>] -         Hadoop client-side components should be able to pick up properties from a cluster CD
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1001'>SFOS-1001</a>] -         have all hadoop services extract the port numbers from the configuration, and fail if they are in use before deployment, and not released at the end of the lifecycle
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1025'>SFOS-1025</a>] -         Useful additional constraint functionality:
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1054'>SFOS-1054</a>] -         improve testcase selection in common.xml
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1059'>SFOS-1059</a>] -         assert equality tests should .toString() their parameters for testing
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1065'>SFOS-1065</a>] -         Tweak to notification mechanism in SF Orchestration
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1069'>SFOS-1069</a>] -         Modify orchestration selection of pertinent members from arrays for dependencies
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1070'>SFOS-1070</a>] -         Orchestration to support new dependency types: on model state and &quot;local&quot; deps
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1074'>SFOS-1074</a>] -         add hadoop bundle to the installer JAR
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1089'>SFOS-1089</a>] -         Better diagnostics of why a Hadoop filesystem won't load
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1090'>SFOS-1090</a>] -         Move Hadoop service lifecycle from &quot;terminated&quot; to close; update state diagrams
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1092'>SFOS-1092</a>] -         hard code datanode ports into the datanode test templates, add checks that these ports are closed after the runs
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1093'>SFOS-1093</a>] -         Hadoop nodes should push out live http and other port bindings to the components
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1096'>SFOS-1096</a>] -         add test for dfshealth on the filesystem
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1097'>SFOS-1097</a>] -         LoadClass to provide better diagnostics when a class is not found
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1102'>SFOS-1102</a>] -         give components/machines the ability to override the default timeout (10 minutes) for &lt;junit&gt; runs
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1105'>SFOS-1105</a>] -         add way to set JVM args (like -verbose:class) onto the daemon that is created for functional testing
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1111'>SFOS-1111</a>] -         make LoadClass better at diagnostics by adding a resources[] list, and producing a list of all missing resources
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1113'>SFOS-1113</a>] -         Move the port checking code of HadoopTestBase into a new test base class in testharness, so that other components can check that ports are closed after a test run
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1117'>SFOS-1117</a>] -         Move DfsUtils use of DistributedFileSystem (i.e. HDFS only), to the FileSystem interface
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1119'>SFOS-1119</a>] -         add more checks to DfsPathExists
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1120'>SFOS-1120</a>] -         modify common.xml to run sfDaemon in the system tests from the build/test dir
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1121'>SFOS-1121</a>] -         subclass Condition interface with one that provides a reason for a condition failing
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1134'>SFOS-1134</a>] -         Datanodes and job tracker nodes to offer the ability to set their hostname dynamically, based on the machine doing the deployment
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1135'>SFOS-1135</a>] -         move hadoop-cluster components to using dynamically determined hostnames
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1138'>SFOS-1138</a>] -         Provide a better error message when a remote process isnt the right type
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1141'>SFOS-1141</a>] -         Remove warnings about headless mode from all the daemon logs
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1168'>SFOS-1168</a>] -         Switch to the exit trapping security manager
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1187'>SFOS-1187</a>] -         Add an environment variable option to name the security manager for the scripts
</li>
</ul>

<h4>        New Feature
</h4>
<ul>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-875'>SFOS-875</a>] -         Write CheckPort component to extract hostname:port information from a hadoop component, and try connecting to that port
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-967'>SFOS-967</a>] -         Implement workflow component to decomission a datanode, with tests
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1019'>SFOS-1019</a>] -         Add smartfrog-hadoop RPM that contains all the artifacts needed to bring up Hadoop under SmartFrog
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1035'>SFOS-1035</a>] -         Add   commons-pool and commons-dbcp JARs to sf-database component and RPM
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1049'>SFOS-1049</a>] -         have common.xml read in a properties file from ~/.ant, outside the source tree, so that options as to which server to deploy to get retained when the directory tree gets deleted.
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1064'>SFOS-1064</a>] -         add component to validate configuration values.
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1079'>SFOS-1079</a>] -         entry points could report network connectivity problems better
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1126'>SFOS-1126</a>] -         Add a configuration checker which checks the configuration of a cluster -or other component that provides a configuration- against a list of expected equality values.
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1131'>SFOS-1131</a>] -         Ant task to determine the local hostname/address
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1133'>SFOS-1133</a>] -         Add functions and components to work out the local hostname
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1139'>SFOS-1139</a>] -         Provide a component to check that a security manager is installed, and that exits are blocked
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1147'>SFOS-1147</a>] -         create new TextListFile component (extending TextFile), that creates the text for a file from an inline list; one line per list entry
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1167'>SFOS-1167</a>] -         ant component to list nested resource collections and print them to a property or to a file
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1195'>SFOS-1195</a>] -         add a ReferenceResolves condition that can be use to probe or poll for a reference
</li>
</ul>

<h4>        Task
</h4>
<ul>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-210'>SFOS-210</a>] -         Add java security debug properties to User manual
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1073'>SFOS-1073</a>] -         Move up to ivy 2.0.0 release
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1085'>SFOS-1085</a>] -         extend the job submission test, list input and output directories and have it do real work
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1103'>SFOS-1103</a>] -         Move legacy dependencies from core to extras
</li>
</ul>

<h4>        Sub-task
</h4>
<ul>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-788'>SFOS-788</a>] -         write component to submit jobs to a Hadoop cluster
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-859'>SFOS-859</a>] -         write components to perform filesystem create/delete/move operations, and copy data to/from the filesystem
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1055'>SFOS-1055</a>] -         write component to load in settings from hadoop's XML files
</li>
<li>[<a href='http://jira.smartfrog.org/jira/browse/SFOS-1151'>SFOS-1151</a>] -         Update service to support TRACE level that is now supported in Log4J
</li>
</ul>


</body>
</html>

