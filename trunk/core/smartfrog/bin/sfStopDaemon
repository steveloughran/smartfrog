#! /bin/sh
if ! test "$SFHOME"; then export SFHOME=$PWD; fi
if [ -z $1 ] ; then
   echo "Insufficient arguments to use sfStopDaemon"
   echo "Usage: sfStopDaemon HostName"
   exit
fi 
if [ $# -eq 1 ] && [ $1 == "-?" ];then
   echo "Usage: sfStopDaemon HostName"
   exit
elif [ $# -ne 1 ];then
   echo "Insufficient arguments to use sfStopDaemon"
   echo "Usage: sfStopDaemon HostName"
   exit
fi 
#for i in $SFHOME/lib/*.jar; do CLASSPATH=$i:$CLASSPATH; done
#export CLASSPATH

. "$SFHOME/bin/setSFProperties"

echo "Stopping sfDaemon on" $1 "..."
#java $SFCMDPARAMETERS org.smartfrog.SFSystem -a rootProcess:TERMINATE:::$1: -e

if test "$SFCODEBASE" && ! test "$SFSECURITY"; then
        java "$SFDEFAULTINI" "$SFCODEBASE" org.smartfrog.SFSystem -a rootProcess:TERMINATE:::$1: -e
elif test "$SFSECURITY" && ! test "$SFCODEBASE"; then
        java "$SFDEFAULTINI" $SFSECURITY org.smartfrog.SFSystem -a rootProcess:TERMINATE:::$1: -e
elif test "$SFCODEBASE" && test "$SFSECURITY"; then
        java "$SFDEFAULTINI" "$SFCODEBASE" $SFSECURITY org.smartfrog.SFSystem -a rootProcess:TERMINATE:::$1: -e
else
        java "$SFDEFAULTINI" org.smartfrog.SFSystem -a rootProcess:TERMINATE:::$1: -e
fi

echo "Stopped sfDaemon on" $1
